(this["webpackJsonpscoobie-doobie-effector"]=this["webpackJsonpscoobie-doobie-effector"]||[]).push([[0],{78:function(t,e,c){"use strict";c.r(e);var a=c(7),i=c(5),n=c.n(i),r=c(29),s=c.n(r),o=c(32),h=c(13),d=c(33),u=c(30),b=c.n(u),j=c(10),g=function(t){var e=t.currentFrame,c=t.boxesProps;return Object(a.jsxs)(j.b,{children:[Object(a.jsx)(j.a,{id:"baseCanvas",image:e}),c.map((function(t){return Object(a.jsx)(j.a,{image:e,crop:{x:t.srcX,y:t.srcY,width:t.srcWidth,height:t.srcHeight},x:t.showX,y:t.showY,width:t.showWidth,height:t.showHeight,stroke:"black",strokeWidth:10,draggable:!0},t.key)}))]})},l={width:1280,height:720,facingMode:"user"},f=Object(d.a)({},l),w=function(t){var e=document.createElement("canvas");return e.width=t.width,e.height=t.height,e},O=function(){var t=Object(i.useState)(w(f)),e=Object(h.a)(t,2),c=e[0],n=e[1],r=Object(i.useState)(),s=Object(h.a)(r,2),d=s[0],u=s[1],O=Object(i.useState)([]),x=Object(h.a)(O,2),v=x[0],m=x[1],p=Object(i.useState)({x:0,y:0}),y=Object(h.a)(p,2),k=y[0],X=y[1],Y=Object(i.useRef)(null);return Object(i.useEffect)((function(){return u(setInterval((function(){return function(){var t=w(f).getContext("2d");t.drawImage(Y.current.video,0,0);var e=t.getImageData(0,0,f.width,f.height);!function(t){for(var e=t.data.length/4,c=0;c<e;c++){var a=.299*t.data[4*c+0]+.587*t.data[4*c+1]+.114*t.data[4*c+2];t.data[4*c+0]=a,t.data[4*c+1]=a,t.data[4*c+2]=a}}(e),t.putImageData(e,0,0),n(t.canvas)}()}),1e3/30)),function(){clearInterval(d)}}),[]),Object(a.jsxs)("section",{className:"App",children:[Object(a.jsx)(b.a,{id:"camera",ref:Y,audio:!1,videoConstraints:l,width:f.width,height:f.height,onMouseDown:function(t){X({x:t.clientX,y:t.clientY})},onClick:function(t){m([].concat(Object(o.a)(v),[{key:v.length,srcX:k.x,srcY:k.y,srcWidth:t.clientX-k.x,srcHeight:t.clientY-k.y,showX:k.x,showY:k.y,showWidth:t.clientX-k.x,showHeight:t.clientY-k.y}]))}}),Object(a.jsx)(j.c,{id:"outputArea",width:f.width,height:f.height,children:Object(a.jsx)(g,{currentFrame:c,boxesProps:v})})]})};s.a.render(Object(a.jsx)(n.a.StrictMode,{children:Object(a.jsx)(O,{})}),document.getElementById("root"))}},[[78,1,2]]]);
//# sourceMappingURL=main.8ec833e0.chunk.js.map